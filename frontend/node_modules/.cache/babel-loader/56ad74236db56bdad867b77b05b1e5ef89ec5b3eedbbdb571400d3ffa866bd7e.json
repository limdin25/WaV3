{"ast":null,"code":"var _jsxFileName = \"/Users/hugo/Downloads/AI Folder/WaV2/frontend/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Building, MessageCircle, CheckCircle, XCircle, Clock, Settings, Trash2, RefreshCw, Inbox } from 'lucide-react';\nimport QRModal from './QRModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const [connections, setConnections] = useState({\n    crm: null,\n    whatsapp: null\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrCode, setQrCode] = useState('');\n  const [whatsappAccountId, setWhatsappAccountId] = useState('');\n  const [connectionLoading, setConnectionLoading] = useState({\n    crm: false,\n    whatsapp: false\n  });\n  useEffect(() => {\n    console.log('Dashboard loaded');\n    fetchConnections();\n\n    // Cleanup function to clear any intervals\n    return () => {\n      // Clear any existing intervals when component unmounts\n      for (let i = 0; i < 10000; i++) {\n        clearInterval(i);\n      }\n    };\n  }, []);\n  const fetchConnections = async () => {\n    try {\n      const response = await axios.get(`/api/connections?t=${Date.now()}`, {\n        headers: {\n          'Cache-Control': 'no-cache',\n          'Pragma': 'no-cache'\n        }\n      });\n      setConnections(response.data);\n    } catch (error) {\n      console.error('Error fetching connections:', error);\n      setError('Failed to fetch connections');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const connectCRM = async () => {\n    setConnectionLoading(prev => ({\n      ...prev,\n      crm: true\n    }));\n    try {\n      const response = await axios.get('/api/auth/crm');\n      window.open(response.data.authUrl, '_blank', 'width=600,height=700');\n\n      // Controlled polling with proper cleanup\n      let pollCount = 0;\n      const maxPolls = 20; // Maximum 20 attempts (1 minute)\n\n      const pollInterval = setInterval(async () => {\n        pollCount++;\n        console.log(`Polling attempt ${pollCount}/${maxPolls}`);\n        try {\n          const connectionResponse = await axios.get(`/api/connections?t=${Date.now()}`, {\n            headers: {\n              'Cache-Control': 'no-cache',\n              'Pragma': 'no-cache'\n            }\n          });\n          if (connectionResponse.data.crm) {\n            console.log('✅ CRM connected successfully!');\n            setConnections(connectionResponse.data);\n            setSuccess('CRM connected successfully!');\n            clearInterval(pollInterval);\n            setConnectionLoading(prev => ({\n              ...prev,\n              crm: false\n            }));\n            return;\n          }\n\n          // Stop after max attempts\n          if (pollCount >= maxPolls) {\n            console.log('⏰ Polling timeout reached');\n            clearInterval(pollInterval);\n            setConnectionLoading(prev => ({\n              ...prev,\n              crm: false\n            }));\n          }\n        } catch (error) {\n          console.error('Polling error:', error);\n          clearInterval(pollInterval);\n          setConnectionLoading(prev => ({\n            ...prev,\n            crm: false\n          }));\n        }\n      }, 3000);\n    } catch (error) {\n      setError('Failed to initiate CRM connection');\n      setConnectionLoading(prev => ({\n        ...prev,\n        crm: false\n      }));\n    }\n  };\n  const connectWhatsApp = async () => {\n    setConnectionLoading({\n      ...connectionLoading,\n      whatsapp: true\n    });\n    try {\n      const response = await axios.post('/api/whatsapp/connect');\n      setQrCode(response.data.qrCode);\n      setWhatsappAccountId(response.data.accountId);\n      setShowQRModal(true);\n    } catch (error) {\n      setError('Failed to generate WhatsApp QR code');\n      setConnectionLoading(prev => ({\n        ...prev,\n        whatsapp: false\n      }));\n    }\n  };\n  const disconnectService = async service => {\n    try {\n      await axios.delete(`/api/connections/${service}`);\n      setConnections({\n        ...connections,\n        [service]: null\n      });\n      setSuccess(`${service === 'crm' ? 'CRM' : 'WhatsApp'} disconnected successfully!`);\n    } catch (error) {\n      setError(`Failed to disconnect ${service}`);\n    }\n  };\n  const onQRModalClose = () => {\n    setShowQRModal(false);\n    setQrCode('');\n    setWhatsappAccountId('');\n    setConnectionLoading(prev => ({\n      ...prev,\n      whatsapp: false\n    }));\n  };\n  const onWhatsAppConnected = () => {\n    setShowQRModal(false);\n    setSuccess('WhatsApp connected successfully!');\n    setConnectionLoading(prev => ({\n      ...prev,\n      whatsapp: false\n    }));\n    fetchConnections();\n  };\n  const ConnectionCard = ({\n    title,\n    description,\n    icon: Icon,\n    connected,\n    onConnect,\n    onDisconnect,\n    loading,\n    disabled = false,\n    connectionData\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-3 rounded-lg ${connected ? 'bg-green-100' : 'bg-gray-100'}`,\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            className: `w-6 h-6 ${connected ? 'text-green-600' : 'text-gray-600'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: connected ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"status-connected\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"w-4 h-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: \"Connected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDisconnect,\n            className: \"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\",\n            title: \"Disconnect\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConnect,\n          disabled: disabled || loading,\n          className: `px-4 py-2 rounded-lg font-medium transition-colors ${disabled ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : loading ? 'bg-blue-400 text-white cursor-wait' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"w-4 h-4 mr-2 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), \"Connecting...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this) : 'Connect'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), connected && connectionData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 pt-4 border-t border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4 text-sm\",\n        children: [connectionData.locationId && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Location ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 truncate\",\n            children: connectionData.locationId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }, this), connectionData.accountId && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Account ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 truncate\",\n            children: connectionData.accountId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }, this), connectionData.createdAt && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Connected:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: new Date(connectionData.createdAt).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner h-12 w-12\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 mb-2\",\n          children: \"Integration Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Connect your WhatsApp and CRM accounts to start syncing messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-error mb-6 fade-in\",\n        children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(''),\n          className: \"ml-auto text-red-600 hover:text-red-800\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-success mb-6 fade-in\",\n        children: [success, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSuccess(''),\n          className: \"ml-auto text-green-600 hover:text-green-800\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg ${connections.crm ? 'bg-green-100' : 'bg-gray-100'}`,\n              children: /*#__PURE__*/_jsxDEV(Building, {\n                className: `w-6 h-6 ${connections.crm ? 'text-green-600' : 'text-gray-600'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900\",\n                children: \"CRM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-sm ${connections.crm ? 'text-green-600' : 'text-gray-500'}`,\n                children: connections.crm ? 'Connected' : 'Not Connected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg ${connections.whatsapp ? 'bg-green-100' : 'bg-gray-100'}`,\n              children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: `w-6 h-6 ${connections.whatsapp ? 'text-green-600' : 'text-gray-600'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900\",\n                children: \"WhatsApp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-sm ${connections.whatsapp ? 'text-green-600' : 'text-gray-500'}`,\n                children: connections.whatsapp ? 'Connected' : 'Not Connected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg ${connections.crm && connections.whatsapp ? 'bg-green-100' : 'bg-gray-100'}`,\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: `w-6 h-6 ${connections.crm && connections.whatsapp ? 'text-green-600' : 'text-gray-600'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900\",\n                children: \"Integration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-sm ${connections.crm && connections.whatsapp ? 'text-green-600' : 'text-gray-500'}`,\n                children: connections.crm && connections.whatsapp ? 'Active' : 'Inactive'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(ConnectionCard, {\n          title: \"CRM\",\n          description: \"Connect your CRM account to sync conversations\",\n          icon: Building,\n          connected: !!connections.crm,\n          onConnect: connectCRM,\n          onDisconnect: () => disconnectService('crm'),\n          loading: connectionLoading.crm,\n          connectionData: connections.crm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ConnectionCard, {\n          title: \"WhatsApp\",\n          description: \"Connect WhatsApp via QR code scan\",\n          icon: MessageCircle,\n          connected: !!connections.whatsapp,\n          onConnect: connectWhatsApp,\n          onDisconnect: () => disconnectService('whatsapp'),\n          loading: connectionLoading.whatsapp,\n          disabled: !connections.crm,\n          connectionData: connections.whatsapp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), !connections.crm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 card border-l-4 border-blue-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-2\",\n          children: \"Getting Started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"list-decimal list-inside space-y-2 text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"First, connect your CRM account using OAuth\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Once CRM is connected, you can connect WhatsApp using QR code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"After both connections are active, messages will sync automatically\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this), connections.crm && !connections.whatsapp && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 card border-l-4 border-green-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-2\",\n          children: \"Next Step\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Great! CRM is connected. Now connect your WhatsApp account to start syncing messages.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this), connections.crm && connections.whatsapp && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 card border-l-4 border-green-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-2\",\n          children: \"Integration Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"Perfect! Both accounts are connected. Messages are now syncing between WhatsApp and your CRM.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-4 rounded-lg mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-blue-900 mb-2\",\n            children: \"How it works:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside space-y-1 text-blue-800 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Incoming WhatsApp messages appear in your CRM conversations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Replies from CRM are sent back to WhatsApp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"All message history is preserved in both platforms\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/inbox'),\n            className: \"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\",\n            children: [/*#__PURE__*/_jsxDEV(Inbox, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Open WhatsApp Inbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"View and respond to WhatsApp messages directly from your browser\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), showQRModal && /*#__PURE__*/_jsxDEV(QRModal, {\n      qrCode: qrCode,\n      accountId: whatsappAccountId,\n      onClose: onQRModalClose,\n      onConnected: onWhatsAppConnected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"wH2NTLVpY320ctCoG9VWdPz9y70=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Building","MessageCircle","CheckCircle","XCircle","Clock","Settings","Trash2","RefreshCw","Inbox","QRModal","jsxDEV","_jsxDEV","Dashboard","_s","navigate","connections","setConnections","crm","whatsapp","loading","setLoading","error","setError","success","setSuccess","showQRModal","setShowQRModal","qrCode","setQrCode","whatsappAccountId","setWhatsappAccountId","connectionLoading","setConnectionLoading","console","log","fetchConnections","i","clearInterval","response","get","Date","now","headers","data","connectCRM","prev","window","open","authUrl","pollCount","maxPolls","pollInterval","setInterval","connectionResponse","connectWhatsApp","post","accountId","disconnectService","service","delete","onQRModalClose","onWhatsAppConnected","ConnectionCard","title","description","icon","Icon","connected","onConnect","onDisconnect","disabled","connectionData","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","locationId","createdAt","toLocaleDateString","onClose","onConnected","_c","$RefreshReg$"],"sources":["/Users/hugo/Downloads/AI Folder/WaV2/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Building, MessageCircle, CheckCircle, XCircle, Clock, Settings, Trash2, RefreshCw, Inbox } from 'lucide-react';\nimport QRModal from './QRModal';\n\nconst Dashboard = () => {\n  const navigate = useNavigate();\n  const [connections, setConnections] = useState({\n    crm: null,\n    whatsapp: null\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showQRModal, setShowQRModal] = useState(false);\n  const [qrCode, setQrCode] = useState('');\n  const [whatsappAccountId, setWhatsappAccountId] = useState('');\n  const [connectionLoading, setConnectionLoading] = useState({\n    crm: false,\n    whatsapp: false\n  });\n\n  useEffect(() => {\n    console.log('Dashboard loaded');\n    fetchConnections();\n    \n    // Cleanup function to clear any intervals\n    return () => {\n      // Clear any existing intervals when component unmounts\n      for (let i = 0; i < 10000; i++) {\n        clearInterval(i);\n      }\n    };\n  }, []);\n\n  const fetchConnections = async () => {\n    try {\n      const response = await axios.get(`/api/connections?t=${Date.now()}`, {\n        headers: {\n          'Cache-Control': 'no-cache',\n          'Pragma': 'no-cache'\n        }\n      });\n      setConnections(response.data);\n    } catch (error) {\n      console.error('Error fetching connections:', error);\n      setError('Failed to fetch connections');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const connectCRM = async () => {\n    setConnectionLoading(prev => ({ ...prev, crm: true }));\n    try {\n      const response = await axios.get('/api/auth/crm');\n      window.open(response.data.authUrl, '_blank', 'width=600,height=700');\n      \n      // Controlled polling with proper cleanup\n      let pollCount = 0;\n      const maxPolls = 20; // Maximum 20 attempts (1 minute)\n      \n      const pollInterval = setInterval(async () => {\n        pollCount++;\n        console.log(`Polling attempt ${pollCount}/${maxPolls}`);\n        \n        try {\n          const connectionResponse = await axios.get(`/api/connections?t=${Date.now()}`, {\n            headers: { 'Cache-Control': 'no-cache', 'Pragma': 'no-cache' }\n          });\n          \n          if (connectionResponse.data.crm) {\n            console.log('✅ CRM connected successfully!');\n            setConnections(connectionResponse.data);\n            setSuccess('CRM connected successfully!');\n            clearInterval(pollInterval);\n            setConnectionLoading(prev => ({ ...prev, crm: false }));\n            return;\n          }\n          \n          // Stop after max attempts\n          if (pollCount >= maxPolls) {\n            console.log('⏰ Polling timeout reached');\n            clearInterval(pollInterval);\n            setConnectionLoading(prev => ({ ...prev, crm: false }));\n          }\n          \n        } catch (error) {\n          console.error('Polling error:', error);\n          clearInterval(pollInterval);\n          setConnectionLoading(prev => ({ ...prev, crm: false }));\n        }\n      }, 3000);\n      \n    } catch (error) {\n      setError('Failed to initiate CRM connection');\n      setConnectionLoading(prev => ({ ...prev, crm: false }));\n    }\n  };\n\n  const connectWhatsApp = async () => {\n    setConnectionLoading({ ...connectionLoading, whatsapp: true });\n    try {\n      const response = await axios.post('/api/whatsapp/connect');\n      setQrCode(response.data.qrCode);\n      setWhatsappAccountId(response.data.accountId);\n      setShowQRModal(true);\n    } catch (error) {\n      setError('Failed to generate WhatsApp QR code');\n      setConnectionLoading(prev => ({ ...prev, whatsapp: false }));\n    }\n  };\n\n  const disconnectService = async (service) => {\n    try {\n      await axios.delete(`/api/connections/${service}`);\n      setConnections({\n        ...connections,\n        [service]: null\n      });\n      setSuccess(`${service === 'crm' ? 'CRM' : 'WhatsApp'} disconnected successfully!`);\n    } catch (error) {\n      setError(`Failed to disconnect ${service}`);\n    }\n  };\n\n  const onQRModalClose = () => {\n    setShowQRModal(false);\n    setQrCode('');\n    setWhatsappAccountId('');\n    setConnectionLoading(prev => ({ ...prev, whatsapp: false }));\n  };\n\n  const onWhatsAppConnected = () => {\n    setShowQRModal(false);\n    setSuccess('WhatsApp connected successfully!');\n    setConnectionLoading(prev => ({ ...prev, whatsapp: false }));\n    fetchConnections();\n  };\n\n  const ConnectionCard = ({ \n    title, \n    description, \n    icon: Icon, \n    connected, \n    onConnect, \n    onDisconnect, \n    loading, \n    disabled = false,\n    connectionData \n  }) => (\n    <div className=\"card\">\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-center space-x-3\">\n          <div className={`p-3 rounded-lg ${connected ? 'bg-green-100' : 'bg-gray-100'}`}>\n            <Icon className={`w-6 h-6 ${connected ? 'text-green-600' : 'text-gray-600'}`} />\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\n            <p className=\"text-sm text-gray-600\">{description}</p>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center space-x-2\">\n          {connected ? (\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"status-connected\">\n                <CheckCircle className=\"w-4 h-4 mr-1\" />\n                <span className=\"text-sm font-medium\">Connected</span>\n              </div>\n              <button\n                onClick={onDisconnect}\n                className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                title=\"Disconnect\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </button>\n            </div>\n          ) : (\n            <button\n              onClick={onConnect}\n              disabled={disabled || loading}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                disabled\n                  ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\n                  : loading\n                  ? 'bg-blue-400 text-white cursor-wait'\n                  : 'bg-blue-600 text-white hover:bg-blue-700'\n              }`}\n            >\n              {loading ? (\n                <div className=\"flex items-center\">\n                  <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Connecting...\n                </div>\n              ) : (\n                'Connect'\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n      \n      {connected && connectionData && (\n        <div className=\"mt-4 pt-4 border-t border-gray-200\">\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            {connectionData.locationId && (\n              <div>\n                <span className=\"font-medium text-gray-700\">Location ID:</span>\n                <p className=\"text-gray-600 truncate\">{connectionData.locationId}</p>\n              </div>\n            )}\n            {connectionData.accountId && (\n              <div>\n                <span className=\"font-medium text-gray-700\">Account ID:</span>\n                <p className=\"text-gray-600 truncate\">{connectionData.accountId}</p>\n              </div>\n            )}\n            {connectionData.createdAt && (\n              <div>\n                <span className=\"font-medium text-gray-700\">Connected:</span>\n                <p className=\"text-gray-600\">{new Date(connectionData.createdAt).toLocaleDateString()}</p>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"loading-spinner h-12 w-12\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-6xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Integration Dashboard</h1>\n          <p className=\"text-gray-600\">\n            Connect your WhatsApp and CRM accounts to start syncing messages\n          </p>\n        </div>\n\n        {/* Alerts */}\n        {error && (\n          <div className=\"alert alert-error mb-6 fade-in\">\n            {error}\n            <button\n              onClick={() => setError('')}\n              className=\"ml-auto text-red-600 hover:text-red-800\"\n            >\n              ×\n            </button>\n          </div>\n        )}\n        \n        {success && (\n          <div className=\"alert alert-success mb-6 fade-in\">\n            {success}\n            <button\n              onClick={() => setSuccess('')}\n              className=\"ml-auto text-green-600 hover:text-green-800\"\n            >\n              ×\n            </button>\n          </div>\n        )}\n\n        {/* Connection Status Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"card\">\n            <div className=\"flex items-center space-x-3\">\n              <div className={`p-3 rounded-lg ${connections.crm ? 'bg-green-100' : 'bg-gray-100'}`}>\n                <Building className={`w-6 h-6 ${connections.crm ? 'text-green-600' : 'text-gray-600'}`} />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-900\">CRM</h3>\n                <p className={`text-sm ${connections.crm ? 'text-green-600' : 'text-gray-500'}`}>\n                  {connections.crm ? 'Connected' : 'Not Connected'}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <div className=\"flex items-center space-x-3\">\n              <div className={`p-3 rounded-lg ${connections.whatsapp ? 'bg-green-100' : 'bg-gray-100'}`}>\n                <MessageCircle className={`w-6 h-6 ${connections.whatsapp ? 'text-green-600' : 'text-gray-600'}`} />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-900\">WhatsApp</h3>\n                <p className={`text-sm ${connections.whatsapp ? 'text-green-600' : 'text-gray-500'}`}>\n                  {connections.whatsapp ? 'Connected' : 'Not Connected'}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <div className=\"flex items-center space-x-3\">\n              <div className={`p-3 rounded-lg ${connections.crm && connections.whatsapp ? 'bg-green-100' : 'bg-gray-100'}`}>\n                <Settings className={`w-6 h-6 ${connections.crm && connections.whatsapp ? 'text-green-600' : 'text-gray-600'}`} />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-900\">Integration</h3>\n                <p className={`text-sm ${connections.crm && connections.whatsapp ? 'text-green-600' : 'text-gray-500'}`}>\n                  {connections.crm && connections.whatsapp ? 'Active' : 'Inactive'}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Connection Setup */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          <ConnectionCard\n            title=\"CRM\"\n            description=\"Connect your CRM account to sync conversations\"\n            icon={Building}\n            connected={!!connections.crm}\n            onConnect={connectCRM}\n            onDisconnect={() => disconnectService('crm')}\n            loading={connectionLoading.crm}\n            connectionData={connections.crm}\n          />\n\n          <ConnectionCard\n            title=\"WhatsApp\"\n            description=\"Connect WhatsApp via QR code scan\"\n            icon={MessageCircle}\n            connected={!!connections.whatsapp}\n            onConnect={connectWhatsApp}\n            onDisconnect={() => disconnectService('whatsapp')}\n            loading={connectionLoading.whatsapp}\n            disabled={!connections.crm}\n            connectionData={connections.whatsapp}\n          />\n        </div>\n\n        {/* Integration Instructions */}\n        {!connections.crm && (\n          <div className=\"mt-8 card border-l-4 border-blue-500\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Getting Started</h3>\n            <ol className=\"list-decimal list-inside space-y-2 text-gray-600\">\n              <li>First, connect your CRM account using OAuth</li>\n              <li>Once CRM is connected, you can connect WhatsApp using QR code</li>\n              <li>After both connections are active, messages will sync automatically</li>\n            </ol>\n          </div>\n        )}\n\n        {connections.crm && !connections.whatsapp && (\n          <div className=\"mt-8 card border-l-4 border-green-500\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Next Step</h3>\n            <p className=\"text-gray-600\">\n              Great! CRM is connected. Now connect your WhatsApp account to start syncing messages.\n            </p>\n          </div>\n        )}\n\n        {connections.crm && connections.whatsapp && (\n          <div className=\"mt-8 card border-l-4 border-green-500\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Integration Active</h3>\n            <p className=\"text-gray-600 mb-4\">\n              Perfect! Both accounts are connected. Messages are now syncing between WhatsApp and your CRM.\n            </p>\n            <div className=\"bg-blue-50 p-4 rounded-lg mb-4\">\n              <h4 className=\"font-medium text-blue-900 mb-2\">How it works:</h4>\n              <ul className=\"list-disc list-inside space-y-1 text-blue-800 text-sm\">\n                <li>Incoming WhatsApp messages appear in your CRM conversations</li>\n                <li>Replies from CRM are sent back to WhatsApp</li>\n                <li>All message history is preserved in both platforms</li>\n              </ul>\n            </div>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={() => navigate('/inbox')}\n                className=\"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\"\n              >\n                <Inbox className=\"w-5 h-5\" />\n                <span>Open WhatsApp Inbox</span>\n              </button>\n              <div className=\"text-sm text-gray-600 flex items-center\">\n                <span>View and respond to WhatsApp messages directly from your browser</span>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* QR Modal */}\n      {showQRModal && (\n        <QRModal\n          qrCode={qrCode}\n          accountId={whatsappAccountId}\n          onClose={onQRModalClose}\n          onConnected={onWhatsAppConnected}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}